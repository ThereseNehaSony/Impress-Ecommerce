<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/style1.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<style>
  /* Additional custom styles */
  /* You can add more specific styles as needed */
  .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      height: 100%;
      width: 250px;
      background-color: #f5f5f5;
      padding-top: 20px;
  }
  .main-content {
      margin-left: 250px;
      padding: 20px;
      
  }
</style>
<body>


  <!-- <div class="top-right-content">
    <p>Welcome Neha Sony</p>
    
  </div> -->

    <!-- The sidebar -->
<div class="sidebar">
  <a href="/admin/admindash">  <i class="fa fa-home" style="margin-right: 10px;"></i>Dashboard</a>
  <a href="/admin/product"><i class="fa fa-product-hunt" style="margin-right: 10px;" aria-hidden="true"></i>Products</a>
  <a href="/admin/category"><i class="fa fa-list" style="margin-right: 10px;" aria-hidden="true"></i>Category</a>

  <a href="/admin/customers"><i class="fa fa-users" style="margin-right: 10px;" aria-hidden="true"></i>Customers</a>
  <a href="/admin/order"><i class="fa fa-bars" style="margin-right: 10px;" aria-hidden="true"></i>Orders</a>
  <a href="/admin/coupon"><i class="fa fa-ticket" style="margin-right: 10px;" aria-hidden="true"></i>Coupons</a>
  <!-- <a href="/admin/sales"><i class="fa fa-line-chart" style="margin-right: 10px;" aria-hidden="true"></i>Sales</a> -->
  <a href="/admin/banner"><i class="fa fa-clone" style="margin-right: 10px;" aria-hidden="true"></i>Banner</a>
  <a href="/admin/productoffer"><i class="fa fa-percent" style="margin-right: 10px;" aria-hidden="true"></i>Product Offer</a>
  <a href="/admin/categoryoffer"><i class="fa fa-percent" style="margin-right: 10px;" aria-hidden="true"></i>Category Offer</a>
  <a href="/admin/adminlogin"><i class="fa fa-sign-out" style="margin-right: 10px;" aria-hidden="true"></i>Logout</a>
</div>


<div class="main-content">
  
  <div class="row">
    <div class="col">
      <a href="/admin/awaitingorders" style="text-decoration: none ;color: black;">
      <div class="box" style="width: 400px;">
        <div style="display: inline-flex; align-items: center;">
          <i class="fa fa-cloud" aria-hidden="true" style="font-size: 40px; color: rgb(143, 212, 143);"></i>
          <h4 style="margin-left: 10px;"><%= pendingOrders %> Orders </h4>
        </div>
        <p style="margin-left: 40px;"> Awaiting Processing</p>
      </div></a>
    </div>

    <div class="col">
      <a href="/admin/customers" style="text-decoration: none ;color: black;">
      <div class="box " style="width: 400px;">
        <div style="display: inline-flex; align-items: center;">
          <i class="fa fa-users" aria-hidden="true" style="font-size: 40px; color:rgb(102, 182, 206);"></i>
          <h4 style="margin-left: 10px;"><%= users %> Users</h4>
        </div>
       
        <!-- <p style="margin-left: 40px;"> Out of Stock</p> -->
      </div> </a>
    </div>

    <div class="col">
      <a href="/admin/outofstock" style="text-decoration: none ;color: black;">
      <div class="box" style="width: 400px;" >
        <div style="display: inline-flex; align-items: center;">
          <i class="fa fa-times" aria-hidden="true" style="font-size: 40px; color:red;"></i>
          <h4 style="margin-left: 10px;"><%= outOfStock %> Products </h4>
        </div>
        <p style="margin-left: 40px;"> Out of Stock</p>
      </div>
    </div></a>
  </div>
<div style="height: 100px;"></div>
<h4>Total Sales:</h4>
<p style="margin-left: 10px;">payment recieved</p>


<canvas id="salesChart" width="400" height="200"></canvas>

 
  <div class="mt-5">
    <div class="box" style="width: 100%; height: 150px; display: flex; justify-content: space-around; align-items: center;">
        <div>
         
            <h5>Processed Orders </h5>
            <p> <%= processedOrders  %></p>
          
       
        </div>
        <div>
            <h5>Shipped Orders</h5>
            <p> <%= shippedOrders  %></p>
            
        </div>
        <div>
            <h5>Delivered Orders</h5>
            <p> <%= deliveredOrders  %></p>
        </div>
        <div>
          <h5>Returned Orders</h5>
          <p> <%= returnedOrders  %></p>
      </div>
      <div>
        <h5>Cancelled Orders</h5>
        <p> <%= cancelledOrders  %></p>
    </div>
    </div>
</div>

<div class="mt-4">
  <div class="box" style="width: 40%; height: 350px; overflow-y: auto; display: flex; flex-direction: column; align-items: center;">
    <h3>Products below stock 10</h3>
    <ul style="list-style-type: none; padding: 0; max-height: 100%; overflow: auto;">
      <% aboutToFinish.forEach((product, index) => { %>
        <li style="margin-bottom: 15px;">
          <p><%= index + 1 %>. <%= product.name %> - Stock: <%= product.stock %></p>
        </li>
      <% }); %>
    </ul>
  </div>
</div>



  

</div>

   
  </header>
 
  <!-- <main style="margin-top: 58px;">
    <div class="container pt-4"></div>
  </main> -->

  </body>
  </html>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const monthlyRevenue = <%- JSON.stringify(monthlyRevenue) %>;
        const monthNames = [
            'January', 'February', 'March', 'April', 'May', 'June',
            'July', 'August', 'September', 'October', 'November', 'December'
        ];

        const ctx = document.getElementById('salesChart').getContext('2d');

        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: monthNames,
                datasets: [{
                    label: 'Monthly Sales',
                    data: monthlyRevenue,
                    borderColor: 'blue',
                    borderWidth: 1
                }]
            }
        });
    });
</script>

