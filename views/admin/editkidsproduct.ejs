<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Product List</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/style1.css">

    
</head>
    <style>
        /* Additional custom styles */
        /* You can add more specific styles as needed */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            width: 250px;
            background-color: #f5f5f5;
            padding-top: 20px;
        }
        .main-content {
            margin-left: 250px; /* Same as sidebar width */
            padding: 20px;
        }
    </style>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar">
    <a href="/admin/admindash">  <i class="fa fa-home" style="margin-right: 10px;"></i>Dashboard</a>
    <a href="/admin/product"><i class="fa fa-product-hunt" style="margin-right: 10px;" aria-hidden="true"></i>Products</a>
    <a href="/admin/category"><i class="fa fa-list" style="margin-right: 10px;" aria-hidden="true"></i>Category</a>
    <a href="/admin/customers"><i class="fa fa-users" style="margin-right: 10px;" aria-hidden="true"></i>Customers</a>
    <a href="/admin/order"><i class="fa fa-bars" style="margin-right: 10px;" aria-hidden="true"></i>Orders</a>
    <a href="/admin/sales"><i class="fa fa-line-chart" style="margin-right: 10px;" aria-hidden="true"></i>Sales</a>
    <a href="admin/adminlogin"><i class="fa fa-sign-out" style="margin-right: 10px;" aria-hidden="true"></i>Logout</a>
  </div>

<!-- Main Content -->
<div class="main-content">
    <div class="boxtop">
        <div class="icon">
          <i class="fa fa-product-hunt"></i> 
        </div>
        <h2>Impress Kids </h2>
       
      </div>
      <h5 style="margin-top: 20px;">Edit Product</h5>
      <form action="/admin/updateproduct/<%= product._id %>" method="POST" enctype="multipart/form-data">
 <!-- First Line  -->
<div class="row">
  <div class="col-md-6">
    <div class="form-group">
      <label for="productName">Name</label>
      <input type="text" class="form-control" id="productName" name="name" value="<%= product.name %>">
  </div>
  </div>
</div>

<!-- Second Line  -->
<div class="row">
  <div class="col-md-4">
    <div class="form-group">
      <label for="productCategory">Category</label>
      <input type="text" class="form-control" id="productCategory" name="category" value="<%= product.category %>">
      <!-- <select class="form-control" id="productCategory">
        <option value="option1">Option 1</option>
        <option value="option2">Option 2</option>
        
      </select> -->
    </div>
  </div>
  <div class="col-md-4">
    <div class="form-group">
      <label for="productColor">Color</label>
      <input type="text" class="form-control" id="productColor" name="color" value="<%= product.color %>">
    </div>
  </div>
  <div class="col-md-4">
    <div class="form-group">
      <label for="productPrice">Price</label>
      <input type="text" class="form-control" id="productPrice" name="price" value="<%= product.price %>">
    </div>
  </div>
</div>

<!-- Third Line  -->
<div class="row">
  <div class="col-md-4">
    <div class="form-group">
      <label for="productSize">Size</label>
      <input type="text" class="form-control" id="productSize" name="size" value="<%= product.size %>">
    </div>
  </div>
  <div class="col-md-4">
    <div class="form-group">
      <label for="productMaterial">Material</label>
      <input type="text" class="form-control" id="productMaterial" name="material" value="<%= product.material %>">
    </div>
  </div>
  <div class="col-md-4">
    <div class="form-group">
      <label for="productWashcare">Washcare</label>
      <input type="text" class="form-control" id="productWashcare" name="washcare" value="<%= product.washcare %>">
    </div>
  </div>
</div>

<!-- Fourth Line  -->
<div class="row">
  <div class="col-md-6">
    <div class="form-group">
      <label for="productOccasion">Stock</label>
      <input type="text" class="form-control" id="productOccasion" name="stock" value="<%= product.stock %>">
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <label for="productSpecification">Specification</label>
      <input type="text" class="form-control" id="productSpecification" name="specification" value="<%= product.specification %>">
    </div>
  </div>
</div>
<div class="col-md-6">
  <div class="form-group">
    <h5>Main Photo</h5>
    <!-- <label for="productPhotos">Main Photo</label> -->
    <!-- Display existing product photo -->
    <img src="/uploads/<%= product.mainPhoto %>" alt="Product Photo" class="img-fluid mb-2" id="currentPhoto" width="200px">
    <!-- Input for uploading a new photo -->
    <input type="file" class="form-control-file" id="productPhotos" name="mainPhoto" accept="image/*" onchange="displayNewPhoto(event)">
  </div>
</div>
  
<div class="row">
  <div class="col-md-12">
    <h5>Additional Photos</h5>
    <div class="uploaded-photos">
      <!-- Display existing photos related to the product -->
      <% product.additionalPhotos.forEach(function(photo) { %>
        <div class="col-sm-4 mb-2">
          <img src="/uploads/<%= photo %>" alt="Additional Photo" class="img-fluid" width="200px">
          <!-- You can provide options to delete or edit these photos if needed -->
        </div>
      <% }); %>
    </div>
    <div class="input-group mt-3">
      <input type="file" class="form-control-file" id="additionalPhotos" name="additionalPhotos" multiple onchange="displaySelectedPhotos(event)">
    </div>
  </div>
</div>


     
        
        <!-- Save Button -->
        <button type="submit" class="btn btn-primary" style="margin-top: 20px;">Save</button>
      </form>
      
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  function displayNewPhoto(event) {
    const file = event.target.files[0];
    const reader = new FileReader();

    reader.onload = function (e) {
      const image = document.getElementById('currentPhoto');
      image.src = e.target.result;
    };

    reader.readAsDataURL(file);
  }


  function displaySelectedPhotos(event) {
    const files = event.target.files;

    const uploadedPhotosDiv = document.querySelector('.uploaded-photos');
    uploadedPhotosDiv.innerHTML = ''; // Clear existing photos

    for (let i = 0; i < files.length; i++) {
      const reader = new FileReader();

      reader.onload = function (e) {
        const img = document.createElement('img');
        img.src = e.target.result;
        img.alt = 'Uploaded Photo';
        img.classList.add('img-fluid');
        img.width = 200;

        const colDiv = document.createElement('div');
        colDiv.classList.add('col-sm-4', 'mb-2');
        colDiv.appendChild(img);

        uploadedPhotosDiv.appendChild(colDiv);
      };

      reader.readAsDataURL(files[i]);
    }
  }
  
</script>

</body>
</html>
